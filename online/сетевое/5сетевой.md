# Сетевой уровень (Network Layer) модели OSI

## Основные функции
- **Маршрутизация** между разными сетями
- **Логическая адресация** (IP-адреса)
- **Фрагментация** пакетов
- **Контроль перегрузок**

## Ключевые концепции
### 1. IP-адресация
- Логические адреса (в отличие от MAC)
- Иерархическая структура:
  - IPv4: `192.168.1.1` (32 бита)
  - IPv6: `2001:0db8:85a3::8a2e:0370:7334` (128 бит)

### 2. Маршрутизация
- Определение пути через сети
- Таблицы маршрутизации
- Протоколы:
  - OSPF
  - RIP
  - BGP (для интернета)

### 3. Формат IP-пакета
| Поле          | Назначение                     |
|---------------|--------------------------------|
| IP отправителя| Адрес источника                |
| IP получателя | Адрес назначения               |
| TTL           | Время жизни (предотвращение зацикливания) |
| Протокол      | TCP/UDP/др.                    |
| Данные        | Полезная нагрузка              |

## Основные протоколы
- **IP** - доставка пакетов
- **ICMP** - диагностика и ошибки (`ping`)
- **ARP** - преобразование IP→MAC
- **IGMP** - управление multicast

## Сетевые устройства
### Маршрутизаторы (Router)
- Принимают решения о пересылке
- Работают с IP-адресами
- Поддерживают таблицы маршрутизации

## Пример передачи данных
1. Ваш компьютер:
   - Добавляет IP-заголовок
   - Указывает адрес назначения
2. Маршрутизаторы:
   - Анализируют IP
   - Передают по оптимальному пути

## Сравнение с канальным уровнем
| Канальный уровень       | Сетевой уровень        |
|-------------------------|------------------------|
| MAC-адреса             | IP-адреса              |
| Локальная доставка      | Глобальная маршрутизация|
| Коммутаторы            | Маршрутизаторы         |

## Важность сетевого уровня
- Основа работы интернета
- Обеспечивает связь между разными сетями
- Позволяет масштабировать сети

**Следующая тема:** Транспортный уровень (TCP/UDP)