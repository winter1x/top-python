# Канальный уровень (Data Link Layer) модели OSI

## Основные функции
- Преобразует биты в **кадры (frames)**
- Обеспечивает надежную передачу между соседними узлами
- Управляет доступом к общей среде передачи

## Ключевые задачи
1. **Формирование кадров**:
   - Добавление заголовков/трейлеров
   - Четкие границы начала/конца сообщения

2. **Физическая адресация**:
   - Использование MAC-адресов (формат: `00:1A:2B:3C:4D:5E`)
   - Идентификация устройств в локальной сети

3. **Контроль ошибок**:
   - CRC (контрольная сумма)
   - Обнаружение поврежденных кадров

4. **Управление потоком**:
   - Синхронизация скорости передачи/приема

5. **Контроль доступа к среде (MAC)**:
   - CSMA/CD (Ethernet)
   - CSMA/CA (Wi-Fi)

## Формат Ethernet-кадра
| Поле                | Размер  | Назначение               |
|---------------------|---------|--------------------------|
| MAC назначения      | 6 байт  | Адрес получателя         |
| MAC источника       | 6 байт  | Адрес отправителя        |
| Тип/Длина           | 2 байт  | Идентификатор содержимого|
| Данные              | 46-1500 | Полезная нагрузка        |
| CRC                 | 4 байт  | Контрольная сумма        |

## Основные протоколы
- **Ethernet** - стандарт проводных LAN
- **PPP** - для point-to-point соединений
- **HDLC** - для WAN-сетей
- **Wi-Fi (802.11)** - беспроводные сети

## Сетевые устройства
- **Коммутаторы (Switch)** - фильтрация и пересылка по MAC-адресам
- **Сетевые адаптеры (NIC)** - обработка кадров на конечных устройствах
- **Мосты (Bridge)** - соединение сегментов сети

## Взаимодействие с другими уровнями
- Принимает **пакеты** от сетевого уровня
- Передает **биты** физическому уровню
- Процесс инкапсуляции/декапсуляции данных

## Практический пример
1. Ваш компьютер формирует кадр:
   - Добавляет MAC-адреса
   - Рассчитывает CRC
2. Коммутатор анализирует:
   - Проверяет MAC назначения
   - Пересылает только нужному порту

## Типичные проблемы
- Коллизии в Ethernet
- Ошибки CRC
- Перегрузка буферов коммутатора

## Отличие от физического уровня
| Физический уровень       | Канальный уровень        |
|--------------------------|--------------------------|
| Передает биты            | Работает с кадрами       |
| Не анализирует данные    | Понимает MAC-адресацию   |
| Хабы, репитеры           | Коммутаторы, мосты       |

Следующая тема: **Сетевой уровень (IP-адресация, маршрутизация)**